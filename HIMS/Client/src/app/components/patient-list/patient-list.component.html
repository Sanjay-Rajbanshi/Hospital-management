<h2>Add Patient</h2>

<form [formGroup]="patientForm" (ngSubmit)="selectedPatientid ? updatePatient():addPatient()">
  <div>
    <label for="name">Full Name</label>
    <input type="text" id="name" formControlName="name" autocomplete="name" placeholder="Enter the full name">
  </div>

  <div>
    <label for="address">Address</label>
    <input type="text" id="address" formControlName="address" autocomplete="address" placeholder="Enter the address">
  </div>

  <div>
    <label for="phoneNumber">Phone Number</label>
    <input type="text" id="phoneNumber" formControlName="phoneNumber" placeholder="Ex- 98xxxxxxxx">

<div *ngIf="patientForm.get('phoneNumber')?.touched &&
            patientForm.get('phoneNumber')?.invalid"
     style="color:red">

  <div *ngIf="patientForm.get('phoneNumber')?.errors?.['required']">
    Phone number is required
  </div>

  <div *ngIf="patientForm.get('phoneNumber')?.errors?.['pattern']">
    Phone number must be 10 digits
  </div>

</div>


  </div>

  <div>
    <label for="dateOfBirth">Date Of Birth</label>
    <input type="date" id="dateOfBirth" formControlName="dateOfBirth">
  </div>

  <div>
    <label for="gender">Gender</label>
    <select formControlName="gender" id="gender">
      <option value="">Select</option>
      <option value="Male">Male</option>
      <option value="Female">Female</option>
    </select>
  </div>

  <!-- <button type="submit" (click)="addPatient()">
    {{ selectedPatientid? 'Update Patient' : 'Add Patient' }}
  </button> -->
  <button type="button" *ngIf="!selectedPatientid" (click)="addPatient()" class="btn btn-success">
    Add Patient</button>

<button type="button" *ngIf="selectedPatientid" (click)="updatePatient()" class="btn btn-primary">Update Patient</button>
</form>

<hr>

<h3>Patient List</h3>


<ag-grid-angular
class="ag-theme-alpine"
style="width:100%; height:500px;"
[rowData] = "patients"
[columnDefs]="columnDefs"
[context]="{ componentParent: this }"
[pagination]="true">
</ag-grid-angular>
